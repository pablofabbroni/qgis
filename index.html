<!doctype html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="initial-scale=1,user-scalable=no,maximum-scale=1,width=device-width">
        <meta name="mobile-web-app-capable" content="yes">
        <meta name="apple-mobile-web-app-capable" content="yes">
        <link rel="stylesheet" href="css/leaflet.css">
        <link rel="stylesheet" href="css/L.Control.Layers.Tree.css">
        <link rel="stylesheet" href="css/qgis2web.css">
        <link rel="stylesheet" href="css/fontawesome-all.min.css">
        <link rel="stylesheet" href="css/leaflet.photon.css">
        <style>
        #map {
            width: 1066px;
            height: 571px;
        }
        </style>
        <title></title>
    </head>
    <body>
        <div id="map">
        </div>
        <script src="js/qgis2web_expressions.js"></script>
        <script src="js/leaflet.js"></script>
        <script src="js/L.Control.Layers.Tree.min.js"></script>
        <script src="js/leaflet.rotatedMarker.js"></script>
        <script src="js/leaflet.pattern.js"></script>
        <script src="js/leaflet-hash.js"></script>
        <script src="js/Autolinker.min.js"></script>
        <script src="js/rbush.min.js"></script>
        <script src="js/labelgun.min.js"></script>
        <script src="js/labels.js"></script>
        <script src="js/leaflet.photon.js"></script>
        <script src="data/NBIporcalidaddevivienda_0.js"></script>
        <script src="data/NBIporhacinamiento_1.js"></script>
        <script src="data/NBIporcondicionessanitarias_2.js"></script>
        <script src="data/NBIporescolaridad_3.js"></script>
        <script src="data/NBIGeneral_4.js"></script>
        <script>
        var map = L.map('map', {
            zoomControl:false, maxZoom:28, minZoom:1
        }).fitBounds([[-33.16134323185481,-64.41629340913362],[-33.08579043324444,-64.25117917619121]]);
        var hash = new L.Hash(map);
        map.attributionControl.setPrefix('<a href="https://github.com/tomchadwin/qgis2web" target="_blank">qgis2web</a> &middot; <a href="https://leafletjs.com" title="A JS library for interactive maps">Leaflet</a> &middot; <a href="https://qgis.org">QGIS</a>');
        var autolinker = new Autolinker({truncate: {length: 30, location: 'smart'}});
        // remove popup's row if "visible-with-data"
        function removeEmptyRowsFromPopupContent(content, feature) {
         var tempDiv = document.createElement('div');
         tempDiv.innerHTML = content;
         var rows = tempDiv.querySelectorAll('tr');
         for (var i = 0; i < rows.length; i++) {
             var td = rows[i].querySelector('td.visible-with-data');
             var key = td ? td.id : '';
             if (td && td.classList.contains('visible-with-data') && feature.properties[key] == null) {
                 rows[i].parentNode.removeChild(rows[i]);
             }
         }
         return tempDiv.innerHTML;
        }
        // modify popup if contains media
        function addClassToPopupIfMedia(content, popup) {
            var tempDiv = document.createElement('div');
            tempDiv.innerHTML = content;
            var imgTd = tempDiv.querySelector('td img');
            if (imgTd) {
                var src = imgTd.getAttribute('src');
                if (/\.(jpg|jpeg|png|gif|bmp|webp|avif)$/i.test(src)) {
                    popup._contentNode.classList.add('media');
                    setTimeout(function() {
                        popup.update();
                    }, 10);
                } else if (/\.(mp3|wav|ogg|aac)$/i.test(src)) {
                    var audio = document.createElement('audio');
                    audio.controls = true;
                    audio.src = src;
                    imgTd.parentNode.replaceChild(audio, imgTd);
                    popup._contentNode.classList.add('media');
                    setTimeout(function() {
                        popup.setContent(tempDiv.innerHTML);
                        popup.update();
                    }, 10);
                } else if (/\.(mp4|webm|ogg|mov)$/i.test(src)) {
                    var video = document.createElement('video');
                    video.controls = true;
                    video.src = src;
                    video.style.width = "400px";
                    video.style.height = "300px";
                    video.style.maxHeight = "60vh";
                    video.style.maxWidth = "60vw";
                    imgTd.parentNode.replaceChild(video, imgTd);
                    popup._contentNode.classList.add('media');
                    // Aggiorna il popup quando il video carica i metadati
                    video.addEventListener('loadedmetadata', function() {
                        popup.update();
                    });
                    setTimeout(function() {
                        popup.setContent(tempDiv.innerHTML);
                        popup.update();
                    }, 10);
                } else {
                    popup._contentNode.classList.remove('media');
                }
            } else {
                popup._contentNode.classList.remove('media');
            }
        }
        var zoomControl = L.control.zoom({
            position: 'topleft'
        }).addTo(map);
        var bounds_group = new L.featureGroup([]);
        function setBounds() {
        }
        function pop_NBIporcalidaddevivienda_0(feature, layer) {
            var popupContent = '<table>\
                    <tr>\
                        <td colspan="2">' + (feature.properties['fid'] !== null ? autolinker.link(String(feature.properties['fid']).replace(/'/g, '\'').toLocaleString()) : '') + '</td>\
                    </tr>\
                    <tr>\
                        <td colspan="2">' + (feature.properties['CPR'] !== null ? autolinker.link(String(feature.properties['CPR']).replace(/'/g, '\'').toLocaleString()) : '') + '</td>\
                    </tr>\
                    <tr>\
                        <td colspan="2">' + (feature.properties['NAM_PR'] !== null ? autolinker.link(String(feature.properties['NAM_PR']).replace(/'/g, '\'').toLocaleString()) : '') + '</td>\
                    </tr>\
                    <tr>\
                        <td colspan="2">' + (feature.properties['CDE'] !== null ? autolinker.link(String(feature.properties['CDE']).replace(/'/g, '\'').toLocaleString()) : '') + '</td>\
                    </tr>\
                    <tr>\
                        <td colspan="2">' + (feature.properties['NAM_DE'] !== null ? autolinker.link(String(feature.properties['NAM_DE']).replace(/'/g, '\'').toLocaleString()) : '') + '</td>\
                    </tr>\
                    <tr>\
                        <td colspan="2">' + (feature.properties['CFN'] !== null ? autolinker.link(String(feature.properties['CFN']).replace(/'/g, '\'').toLocaleString()) : '') + '</td>\
                    </tr>\
                    <tr>\
                        <td colspan="2">' + (feature.properties['CRO'] !== null ? autolinker.link(String(feature.properties['CRO']).replace(/'/g, '\'').toLocaleString()) : '') + '</td>\
                    </tr>\
                    <tr>\
                        <td colspan="2">' + (feature.properties['NBI_QGIS_LIMPIO_Total habitantes'] !== null ? autolinker.link(String(feature.properties['NBI_QGIS_LIMPIO_Total habitantes']).replace(/'/g, '\'').toLocaleString()) : '') + '</td>\
                    </tr>\
                    <tr>\
                        <td colspan="2">' + (feature.properties['NBI_QGIS_LIMPIO_Total hogares'] !== null ? autolinker.link(String(feature.properties['NBI_QGIS_LIMPIO_Total hogares']).replace(/'/g, '\'').toLocaleString()) : '') + '</td>\
                    </tr>\
                    <tr>\
                        <td colspan="2">' + (feature.properties['NBI_QGIS_LIMPIO_Mujer / Femenino'] !== null ? autolinker.link(String(feature.properties['NBI_QGIS_LIMPIO_Mujer / Femenino']).replace(/'/g, '\'').toLocaleString()) : '') + '</td>\
                    </tr>\
                    <tr>\
                        <td colspan="2">' + (feature.properties['NBI_QGIS_LIMPIO_Varon / Masculino'] !== null ? autolinker.link(String(feature.properties['NBI_QGIS_LIMPIO_Varon / Masculino']).replace(/'/g, '\'').toLocaleString()) : '') + '</td>\
                    </tr>\
                    <tr>\
                        <td colspan="2">' + (feature.properties['NBI_QGIS_LIMPIO_Hogares con NBI general'] !== null ? autolinker.link(String(feature.properties['NBI_QGIS_LIMPIO_Hogares con NBI general']).replace(/'/g, '\'').toLocaleString()) : '') + '</td>\
                    </tr>\
                    <tr>\
                        <td colspan="2">' + (feature.properties['NBI_QGIS_LIMPIO_Hogares con NBI por escolaridad'] !== null ? autolinker.link(String(feature.properties['NBI_QGIS_LIMPIO_Hogares con NBI por escolaridad']).replace(/'/g, '\'').toLocaleString()) : '') + '</td>\
                    </tr>\
                    <tr>\
                        <td colspan="2">' + (feature.properties['NBI_QGIS_LIMPIO_Hogares con NBI por hacinamiento'] !== null ? autolinker.link(String(feature.properties['NBI_QGIS_LIMPIO_Hogares con NBI por hacinamiento']).replace(/'/g, '\'').toLocaleString()) : '') + '</td>\
                    </tr>\
                    <tr>\
                        <td colspan="2">' + (feature.properties['NBI_QGIS_LIMPIO_Hogares con NBI por condiciones sanitarias'] !== null ? autolinker.link(String(feature.properties['NBI_QGIS_LIMPIO_Hogares con NBI por condiciones sanitarias']).replace(/'/g, '\'').toLocaleString()) : '') + '</td>\
                    </tr>\
                    <tr>\
                        <td colspan="2">' + (feature.properties['NBI_QGIS_LIMPIO_Hogares con NBI por calidad de vivienda'] !== null ? autolinker.link(String(feature.properties['NBI_QGIS_LIMPIO_Hogares con NBI por calidad de vivienda']).replace(/'/g, '\'').toLocaleString()) : '') + '</td>\
                    </tr>\
                    <tr>\
                        <td colspan="2">' + (feature.properties['NBI_QGIS_LIMPIO_Hogares con NBI por capacidad de subsistencia'] !== null ? autolinker.link(String(feature.properties['NBI_QGIS_LIMPIO_Hogares con NBI por capacidad de subsistencia']).replace(/'/g, '\'').toLocaleString()) : '') + '</td>\
                    </tr>\
                    <tr>\
                        <td colspan="2">' + (feature.properties['NBI_QGIS_LIMPIO_Hogares con conectividad digital y acceso a TIC por radio censal'] !== null ? autolinker.link(String(feature.properties['NBI_QGIS_LIMPIO_Hogares con conectividad digital y acceso a TIC por radio censal']).replace(/'/g, '\'').toLocaleString()) : '') + '</td>\
                    </tr>\
                    <tr>\
                        <td colspan="2">' + (feature.properties['LINK'] !== null ? autolinker.link(String(feature.properties['LINK']).replace(/'/g, '\'').toLocaleString()) : '') + '</td>\
                    </tr>\
                </table>';
            var content = removeEmptyRowsFromPopupContent(popupContent, feature);
			layer.on('popupopen', function(e) {
				addClassToPopupIfMedia(content, e.popup);
			});
			layer.bindPopup(content, { maxHeight: 400 });
        }

        function style_NBIporcalidaddevivienda_0_0(feature) {
            if (feature.properties['NBI_QGIS_LIMPIO_Hogares con NBI por calidad de vivienda'] >= 0.000000 && feature.properties['NBI_QGIS_LIMPIO_Hogares con NBI por calidad de vivienda'] <= 4.000000 ) {
                return {
                pane: 'pane_NBIporcalidaddevivienda_0',
                opacity: 1,
                color: 'rgba(35,35,35,1.0)',
                dashArray: '',
                lineCap: 'butt',
                lineJoin: 'miter',
                weight: 1.0, 
                fill: true,
                fillOpacity: 1,
                fillColor: 'rgba(252,251,253,1.0)',
                interactive: true,
            }
            }
            if (feature.properties['NBI_QGIS_LIMPIO_Hogares con NBI por calidad de vivienda'] >= 4.000000 && feature.properties['NBI_QGIS_LIMPIO_Hogares con NBI por calidad de vivienda'] <= 8.000000 ) {
                return {
                pane: 'pane_NBIporcalidaddevivienda_0',
                opacity: 1,
                color: 'rgba(35,35,35,1.0)',
                dashArray: '',
                lineCap: 'butt',
                lineJoin: 'miter',
                weight: 1.0, 
                fill: true,
                fillOpacity: 1,
                fillColor: 'rgba(201,202,227,1.0)',
                interactive: true,
            }
            }
            if (feature.properties['NBI_QGIS_LIMPIO_Hogares con NBI por calidad de vivienda'] >= 8.000000 && feature.properties['NBI_QGIS_LIMPIO_Hogares con NBI por calidad de vivienda'] <= 12.000000 ) {
                return {
                pane: 'pane_NBIporcalidaddevivienda_0',
                opacity: 1,
                color: 'rgba(35,35,35,1.0)',
                dashArray: '',
                lineCap: 'butt',
                lineJoin: 'miter',
                weight: 1.0, 
                fill: true,
                fillOpacity: 1,
                fillColor: 'rgba(124,118,182,1.0)',
                interactive: true,
            }
            }
            if (feature.properties['NBI_QGIS_LIMPIO_Hogares con NBI por calidad de vivienda'] >= 12.000000 && feature.properties['NBI_QGIS_LIMPIO_Hogares con NBI por calidad de vivienda'] <= 16.000000 ) {
                return {
                pane: 'pane_NBIporcalidaddevivienda_0',
                opacity: 1,
                color: 'rgba(35,35,35,1.0)',
                dashArray: '',
                lineCap: 'butt',
                lineJoin: 'miter',
                weight: 1.0, 
                fill: true,
                fillOpacity: 1,
                fillColor: 'rgba(63,0,125,1.0)',
                interactive: true,
            }
            }
        }
        map.createPane('pane_NBIporcalidaddevivienda_0');
        map.getPane('pane_NBIporcalidaddevivienda_0').style.zIndex = 400;
        map.getPane('pane_NBIporcalidaddevivienda_0').style['mix-blend-mode'] = 'normal';
        var layer_NBIporcalidaddevivienda_0 = new L.geoJson(json_NBIporcalidaddevivienda_0, {
            attribution: '',
            interactive: true,
            dataVar: 'json_NBIporcalidaddevivienda_0',
            layerName: 'layer_NBIporcalidaddevivienda_0',
            pane: 'pane_NBIporcalidaddevivienda_0',
            onEachFeature: pop_NBIporcalidaddevivienda_0,
            style: style_NBIporcalidaddevivienda_0_0,
        });
        bounds_group.addLayer(layer_NBIporcalidaddevivienda_0);
        map.addLayer(layer_NBIporcalidaddevivienda_0);
        function pop_NBIporhacinamiento_1(feature, layer) {
            var popupContent = '<table>\
                    <tr>\
                        <td colspan="2">' + (feature.properties['fid'] !== null ? autolinker.link(String(feature.properties['fid']).replace(/'/g, '\'').toLocaleString()) : '') + '</td>\
                    </tr>\
                    <tr>\
                        <td colspan="2">' + (feature.properties['CPR'] !== null ? autolinker.link(String(feature.properties['CPR']).replace(/'/g, '\'').toLocaleString()) : '') + '</td>\
                    </tr>\
                    <tr>\
                        <td colspan="2">' + (feature.properties['NAM_PR'] !== null ? autolinker.link(String(feature.properties['NAM_PR']).replace(/'/g, '\'').toLocaleString()) : '') + '</td>\
                    </tr>\
                    <tr>\
                        <td colspan="2">' + (feature.properties['CDE'] !== null ? autolinker.link(String(feature.properties['CDE']).replace(/'/g, '\'').toLocaleString()) : '') + '</td>\
                    </tr>\
                    <tr>\
                        <td colspan="2">' + (feature.properties['NAM_DE'] !== null ? autolinker.link(String(feature.properties['NAM_DE']).replace(/'/g, '\'').toLocaleString()) : '') + '</td>\
                    </tr>\
                    <tr>\
                        <td colspan="2">' + (feature.properties['CFN'] !== null ? autolinker.link(String(feature.properties['CFN']).replace(/'/g, '\'').toLocaleString()) : '') + '</td>\
                    </tr>\
                    <tr>\
                        <td colspan="2">' + (feature.properties['CRO'] !== null ? autolinker.link(String(feature.properties['CRO']).replace(/'/g, '\'').toLocaleString()) : '') + '</td>\
                    </tr>\
                    <tr>\
                        <td colspan="2">' + (feature.properties['NBI_QGIS_LIMPIO_Total habitantes'] !== null ? autolinker.link(String(feature.properties['NBI_QGIS_LIMPIO_Total habitantes']).replace(/'/g, '\'').toLocaleString()) : '') + '</td>\
                    </tr>\
                    <tr>\
                        <td colspan="2">' + (feature.properties['NBI_QGIS_LIMPIO_Total hogares'] !== null ? autolinker.link(String(feature.properties['NBI_QGIS_LIMPIO_Total hogares']).replace(/'/g, '\'').toLocaleString()) : '') + '</td>\
                    </tr>\
                    <tr>\
                        <td colspan="2">' + (feature.properties['NBI_QGIS_LIMPIO_Mujer / Femenino'] !== null ? autolinker.link(String(feature.properties['NBI_QGIS_LIMPIO_Mujer / Femenino']).replace(/'/g, '\'').toLocaleString()) : '') + '</td>\
                    </tr>\
                    <tr>\
                        <td colspan="2">' + (feature.properties['NBI_QGIS_LIMPIO_Varon / Masculino'] !== null ? autolinker.link(String(feature.properties['NBI_QGIS_LIMPIO_Varon / Masculino']).replace(/'/g, '\'').toLocaleString()) : '') + '</td>\
                    </tr>\
                    <tr>\
                        <td colspan="2">' + (feature.properties['NBI_QGIS_LIMPIO_Hogares con NBI general'] !== null ? autolinker.link(String(feature.properties['NBI_QGIS_LIMPIO_Hogares con NBI general']).replace(/'/g, '\'').toLocaleString()) : '') + '</td>\
                    </tr>\
                    <tr>\
                        <td colspan="2">' + (feature.properties['NBI_QGIS_LIMPIO_Hogares con NBI por escolaridad'] !== null ? autolinker.link(String(feature.properties['NBI_QGIS_LIMPIO_Hogares con NBI por escolaridad']).replace(/'/g, '\'').toLocaleString()) : '') + '</td>\
                    </tr>\
                    <tr>\
                        <td colspan="2">' + (feature.properties['NBI_QGIS_LIMPIO_Hogares con NBI por hacinamiento'] !== null ? autolinker.link(String(feature.properties['NBI_QGIS_LIMPIO_Hogares con NBI por hacinamiento']).replace(/'/g, '\'').toLocaleString()) : '') + '</td>\
                    </tr>\
                    <tr>\
                        <td colspan="2">' + (feature.properties['NBI_QGIS_LIMPIO_Hogares con NBI por condiciones sanitarias'] !== null ? autolinker.link(String(feature.properties['NBI_QGIS_LIMPIO_Hogares con NBI por condiciones sanitarias']).replace(/'/g, '\'').toLocaleString()) : '') + '</td>\
                    </tr>\
                    <tr>\
                        <td colspan="2">' + (feature.properties['NBI_QGIS_LIMPIO_Hogares con NBI por calidad de vivienda'] !== null ? autolinker.link(String(feature.properties['NBI_QGIS_LIMPIO_Hogares con NBI por calidad de vivienda']).replace(/'/g, '\'').toLocaleString()) : '') + '</td>\
                    </tr>\
                    <tr>\
                        <td colspan="2">' + (feature.properties['NBI_QGIS_LIMPIO_Hogares con NBI por capacidad de subsistencia'] !== null ? autolinker.link(String(feature.properties['NBI_QGIS_LIMPIO_Hogares con NBI por capacidad de subsistencia']).replace(/'/g, '\'').toLocaleString()) : '') + '</td>\
                    </tr>\
                    <tr>\
                        <td colspan="2">' + (feature.properties['NBI_QGIS_LIMPIO_Hogares con conectividad digital y acceso a TIC por radio censal'] !== null ? autolinker.link(String(feature.properties['NBI_QGIS_LIMPIO_Hogares con conectividad digital y acceso a TIC por radio censal']).replace(/'/g, '\'').toLocaleString()) : '') + '</td>\
                    </tr>\
                    <tr>\
                        <td colspan="2">' + (feature.properties['LINK'] !== null ? autolinker.link(String(feature.properties['LINK']).replace(/'/g, '\'').toLocaleString()) : '') + '</td>\
                    </tr>\
                </table>';
            var content = removeEmptyRowsFromPopupContent(popupContent, feature);
			layer.on('popupopen', function(e) {
				addClassToPopupIfMedia(content, e.popup);
			});
			layer.bindPopup(content, { maxHeight: 400 });
        }

        function style_NBIporhacinamiento_1_0(feature) {
            if (feature.properties['NBI_QGIS_LIMPIO_Hogares con NBI por hacinamiento'] >= 0.000000 && feature.properties['NBI_QGIS_LIMPIO_Hogares con NBI por hacinamiento'] <= 5.000000 ) {
                return {
                pane: 'pane_NBIporhacinamiento_1',
                opacity: 1,
                color: 'rgba(35,35,35,1.0)',
                dashArray: '',
                lineCap: 'butt',
                lineJoin: 'miter',
                weight: 1.0, 
                fill: true,
                fillOpacity: 1,
                fillColor: 'rgba(255,245,240,1.0)',
                interactive: true,
            }
            }
            if (feature.properties['NBI_QGIS_LIMPIO_Hogares con NBI por hacinamiento'] >= 5.000000 && feature.properties['NBI_QGIS_LIMPIO_Hogares con NBI por hacinamiento'] <= 10.000000 ) {
                return {
                pane: 'pane_NBIporhacinamiento_1',
                opacity: 1,
                color: 'rgba(35,35,35,1.0)',
                dashArray: '',
                lineCap: 'butt',
                lineJoin: 'miter',
                weight: 1.0, 
                fill: true,
                fillOpacity: 1,
                fillColor: 'rgba(254,229,217,1.0)',
                interactive: true,
            }
            }
            if (feature.properties['NBI_QGIS_LIMPIO_Hogares con NBI por hacinamiento'] >= 10.000000 && feature.properties['NBI_QGIS_LIMPIO_Hogares con NBI por hacinamiento'] <= 15.000000 ) {
                return {
                pane: 'pane_NBIporhacinamiento_1',
                opacity: 1,
                color: 'rgba(35,35,35,1.0)',
                dashArray: '',
                lineCap: 'butt',
                lineJoin: 'miter',
                weight: 1.0, 
                fill: true,
                fillOpacity: 1,
                fillColor: 'rgba(253,204,184,1.0)',
                interactive: true,
            }
            }
            if (feature.properties['NBI_QGIS_LIMPIO_Hogares con NBI por hacinamiento'] >= 15.000000 && feature.properties['NBI_QGIS_LIMPIO_Hogares con NBI por hacinamiento'] <= 20.000000 ) {
                return {
                pane: 'pane_NBIporhacinamiento_1',
                opacity: 1,
                color: 'rgba(35,35,35,1.0)',
                dashArray: '',
                lineCap: 'butt',
                lineJoin: 'miter',
                weight: 1.0, 
                fill: true,
                fillOpacity: 1,
                fillColor: 'rgba(252,174,147,1.0)',
                interactive: true,
            }
            }
            if (feature.properties['NBI_QGIS_LIMPIO_Hogares con NBI por hacinamiento'] >= 20.000000 && feature.properties['NBI_QGIS_LIMPIO_Hogares con NBI por hacinamiento'] <= 25.000000 ) {
                return {
                pane: 'pane_NBIporhacinamiento_1',
                opacity: 1,
                color: 'rgba(35,35,35,1.0)',
                dashArray: '',
                lineCap: 'butt',
                lineJoin: 'miter',
                weight: 1.0, 
                fill: true,
                fillOpacity: 1,
                fillColor: 'rgba(252,143,111,1.0)',
                interactive: true,
            }
            }
            if (feature.properties['NBI_QGIS_LIMPIO_Hogares con NBI por hacinamiento'] >= 25.000000 && feature.properties['NBI_QGIS_LIMPIO_Hogares con NBI por hacinamiento'] <= 30.000000 ) {
                return {
                pane: 'pane_NBIporhacinamiento_1',
                opacity: 1,
                color: 'rgba(35,35,35,1.0)',
                dashArray: '',
                lineCap: 'butt',
                lineJoin: 'miter',
                weight: 1.0, 
                fill: true,
                fillOpacity: 1,
                fillColor: 'rgba(251,112,80,1.0)',
                interactive: true,
            }
            }
            if (feature.properties['NBI_QGIS_LIMPIO_Hogares con NBI por hacinamiento'] >= 30.000000 && feature.properties['NBI_QGIS_LIMPIO_Hogares con NBI por hacinamiento'] <= 35.000000 ) {
                return {
                pane: 'pane_NBIporhacinamiento_1',
                opacity: 1,
                color: 'rgba(35,35,35,1.0)',
                dashArray: '',
                lineCap: 'butt',
                lineJoin: 'miter',
                weight: 1.0, 
                fill: true,
                fillOpacity: 1,
                fillColor: 'rgba(244,77,56,1.0)',
                interactive: true,
            }
            }
            if (feature.properties['NBI_QGIS_LIMPIO_Hogares con NBI por hacinamiento'] >= 35.000000 && feature.properties['NBI_QGIS_LIMPIO_Hogares con NBI por hacinamiento'] <= 40.000000 ) {
                return {
                pane: 'pane_NBIporhacinamiento_1',
                opacity: 1,
                color: 'rgba(35,35,35,1.0)',
                dashArray: '',
                lineCap: 'butt',
                lineJoin: 'miter',
                weight: 1.0, 
                fill: true,
                fillOpacity: 1,
                fillColor: 'rgba(225,46,38,1.0)',
                interactive: true,
            }
            }
            if (feature.properties['NBI_QGIS_LIMPIO_Hogares con NBI por hacinamiento'] >= 40.000000 && feature.properties['NBI_QGIS_LIMPIO_Hogares con NBI por hacinamiento'] <= 45.000000 ) {
                return {
                pane: 'pane_NBIporhacinamiento_1',
                opacity: 1,
                color: 'rgba(35,35,35,1.0)',
                dashArray: '',
                lineCap: 'butt',
                lineJoin: 'miter',
                weight: 1.0, 
                fill: true,
                fillOpacity: 1,
                fillColor: 'rgba(197,22,28,1.0)',
                interactive: true,
            }
            }
            if (feature.properties['NBI_QGIS_LIMPIO_Hogares con NBI por hacinamiento'] >= 45.000000 && feature.properties['NBI_QGIS_LIMPIO_Hogares con NBI por hacinamiento'] <= 50.000000 ) {
                return {
                pane: 'pane_NBIporhacinamiento_1',
                opacity: 1,
                color: 'rgba(35,35,35,1.0)',
                dashArray: '',
                lineCap: 'butt',
                lineJoin: 'miter',
                weight: 1.0, 
                fill: true,
                fillOpacity: 1,
                fillColor: 'rgba(165,15,21,1.0)',
                interactive: true,
            }
            }
            if (feature.properties['NBI_QGIS_LIMPIO_Hogares con NBI por hacinamiento'] >= 50.000000 && feature.properties['NBI_QGIS_LIMPIO_Hogares con NBI por hacinamiento'] <= 55.000000 ) {
                return {
                pane: 'pane_NBIporhacinamiento_1',
                opacity: 1,
                color: 'rgba(35,35,35,1.0)',
                dashArray: '',
                lineCap: 'butt',
                lineJoin: 'miter',
                weight: 1.0, 
                fill: true,
                fillOpacity: 1,
                fillColor: 'rgba(103,0,13,1.0)',
                interactive: true,
            }
            }
        }
        map.createPane('pane_NBIporhacinamiento_1');
        map.getPane('pane_NBIporhacinamiento_1').style.zIndex = 401;
        map.getPane('pane_NBIporhacinamiento_1').style['mix-blend-mode'] = 'normal';
        var layer_NBIporhacinamiento_1 = new L.geoJson(json_NBIporhacinamiento_1, {
            attribution: '',
            interactive: true,
            dataVar: 'json_NBIporhacinamiento_1',
            layerName: 'layer_NBIporhacinamiento_1',
            pane: 'pane_NBIporhacinamiento_1',
            onEachFeature: pop_NBIporhacinamiento_1,
            style: style_NBIporhacinamiento_1_0,
        });
        bounds_group.addLayer(layer_NBIporhacinamiento_1);
        map.addLayer(layer_NBIporhacinamiento_1);
        function pop_NBIporcondicionessanitarias_2(feature, layer) {
            var popupContent = '<table>\
                    <tr>\
                        <td colspan="2">' + (feature.properties['fid'] !== null ? autolinker.link(String(feature.properties['fid']).replace(/'/g, '\'').toLocaleString()) : '') + '</td>\
                    </tr>\
                    <tr>\
                        <td colspan="2">' + (feature.properties['CPR'] !== null ? autolinker.link(String(feature.properties['CPR']).replace(/'/g, '\'').toLocaleString()) : '') + '</td>\
                    </tr>\
                    <tr>\
                        <td colspan="2">' + (feature.properties['NAM_PR'] !== null ? autolinker.link(String(feature.properties['NAM_PR']).replace(/'/g, '\'').toLocaleString()) : '') + '</td>\
                    </tr>\
                    <tr>\
                        <td colspan="2">' + (feature.properties['CDE'] !== null ? autolinker.link(String(feature.properties['CDE']).replace(/'/g, '\'').toLocaleString()) : '') + '</td>\
                    </tr>\
                    <tr>\
                        <td colspan="2">' + (feature.properties['NAM_DE'] !== null ? autolinker.link(String(feature.properties['NAM_DE']).replace(/'/g, '\'').toLocaleString()) : '') + '</td>\
                    </tr>\
                    <tr>\
                        <td colspan="2">' + (feature.properties['CFN'] !== null ? autolinker.link(String(feature.properties['CFN']).replace(/'/g, '\'').toLocaleString()) : '') + '</td>\
                    </tr>\
                    <tr>\
                        <td colspan="2">' + (feature.properties['CRO'] !== null ? autolinker.link(String(feature.properties['CRO']).replace(/'/g, '\'').toLocaleString()) : '') + '</td>\
                    </tr>\
                    <tr>\
                        <td colspan="2">' + (feature.properties['NBI_QGIS_LIMPIO_Total habitantes'] !== null ? autolinker.link(String(feature.properties['NBI_QGIS_LIMPIO_Total habitantes']).replace(/'/g, '\'').toLocaleString()) : '') + '</td>\
                    </tr>\
                    <tr>\
                        <td colspan="2">' + (feature.properties['NBI_QGIS_LIMPIO_Total hogares'] !== null ? autolinker.link(String(feature.properties['NBI_QGIS_LIMPIO_Total hogares']).replace(/'/g, '\'').toLocaleString()) : '') + '</td>\
                    </tr>\
                    <tr>\
                        <td colspan="2">' + (feature.properties['NBI_QGIS_LIMPIO_Mujer / Femenino'] !== null ? autolinker.link(String(feature.properties['NBI_QGIS_LIMPIO_Mujer / Femenino']).replace(/'/g, '\'').toLocaleString()) : '') + '</td>\
                    </tr>\
                    <tr>\
                        <td colspan="2">' + (feature.properties['NBI_QGIS_LIMPIO_Varon / Masculino'] !== null ? autolinker.link(String(feature.properties['NBI_QGIS_LIMPIO_Varon / Masculino']).replace(/'/g, '\'').toLocaleString()) : '') + '</td>\
                    </tr>\
                    <tr>\
                        <td colspan="2">' + (feature.properties['NBI_QGIS_LIMPIO_Hogares con NBI general'] !== null ? autolinker.link(String(feature.properties['NBI_QGIS_LIMPIO_Hogares con NBI general']).replace(/'/g, '\'').toLocaleString()) : '') + '</td>\
                    </tr>\
                    <tr>\
                        <td colspan="2">' + (feature.properties['NBI_QGIS_LIMPIO_Hogares con NBI por escolaridad'] !== null ? autolinker.link(String(feature.properties['NBI_QGIS_LIMPIO_Hogares con NBI por escolaridad']).replace(/'/g, '\'').toLocaleString()) : '') + '</td>\
                    </tr>\
                    <tr>\
                        <td colspan="2">' + (feature.properties['NBI_QGIS_LIMPIO_Hogares con NBI por hacinamiento'] !== null ? autolinker.link(String(feature.properties['NBI_QGIS_LIMPIO_Hogares con NBI por hacinamiento']).replace(/'/g, '\'').toLocaleString()) : '') + '</td>\
                    </tr>\
                    <tr>\
                        <td colspan="2">' + (feature.properties['NBI_QGIS_LIMPIO_Hogares con NBI por condiciones sanitarias'] !== null ? autolinker.link(String(feature.properties['NBI_QGIS_LIMPIO_Hogares con NBI por condiciones sanitarias']).replace(/'/g, '\'').toLocaleString()) : '') + '</td>\
                    </tr>\
                    <tr>\
                        <td colspan="2">' + (feature.properties['NBI_QGIS_LIMPIO_Hogares con NBI por calidad de vivienda'] !== null ? autolinker.link(String(feature.properties['NBI_QGIS_LIMPIO_Hogares con NBI por calidad de vivienda']).replace(/'/g, '\'').toLocaleString()) : '') + '</td>\
                    </tr>\
                    <tr>\
                        <td colspan="2">' + (feature.properties['NBI_QGIS_LIMPIO_Hogares con NBI por capacidad de subsistencia'] !== null ? autolinker.link(String(feature.properties['NBI_QGIS_LIMPIO_Hogares con NBI por capacidad de subsistencia']).replace(/'/g, '\'').toLocaleString()) : '') + '</td>\
                    </tr>\
                    <tr>\
                        <td colspan="2">' + (feature.properties['NBI_QGIS_LIMPIO_Hogares con conectividad digital y acceso a TIC por radio censal'] !== null ? autolinker.link(String(feature.properties['NBI_QGIS_LIMPIO_Hogares con conectividad digital y acceso a TIC por radio censal']).replace(/'/g, '\'').toLocaleString()) : '') + '</td>\
                    </tr>\
                    <tr>\
                        <td colspan="2">' + (feature.properties['LINK'] !== null ? autolinker.link(String(feature.properties['LINK']).replace(/'/g, '\'').toLocaleString()) : '') + '</td>\
                    </tr>\
                </table>';
            var content = removeEmptyRowsFromPopupContent(popupContent, feature);
			layer.on('popupopen', function(e) {
				addClassToPopupIfMedia(content, e.popup);
			});
			layer.bindPopup(content, { maxHeight: 400 });
        }

        function style_NBIporcondicionessanitarias_2_0(feature) {
            if (feature.properties['NBI_QGIS_LIMPIO_Hogares con NBI por condiciones sanitarias'] >= 0.000000 && feature.properties['NBI_QGIS_LIMPIO_Hogares con NBI por condiciones sanitarias'] <= 3.000000 ) {
                return {
                pane: 'pane_NBIporcondicionessanitarias_2',
                opacity: 1,
                color: 'rgba(35,35,35,1.0)',
                dashArray: '',
                lineCap: 'butt',
                lineJoin: 'miter',
                weight: 1.0, 
                fill: true,
                fillOpacity: 1,
                fillColor: 'rgba(252,251,253,1.0)',
                interactive: true,
            }
            }
            if (feature.properties['NBI_QGIS_LIMPIO_Hogares con NBI por condiciones sanitarias'] >= 3.000000 && feature.properties['NBI_QGIS_LIMPIO_Hogares con NBI por condiciones sanitarias'] <= 6.000000 ) {
                return {
                pane: 'pane_NBIporcondicionessanitarias_2',
                opacity: 1,
                color: 'rgba(35,35,35,1.0)',
                dashArray: '',
                lineCap: 'butt',
                lineJoin: 'miter',
                weight: 1.0, 
                fill: true,
                fillOpacity: 1,
                fillColor: 'rgba(220,219,236,1.0)',
                interactive: true,
            }
            }
            if (feature.properties['NBI_QGIS_LIMPIO_Hogares con NBI por condiciones sanitarias'] >= 6.000000 && feature.properties['NBI_QGIS_LIMPIO_Hogares con NBI por condiciones sanitarias'] <= 9.000000 ) {
                return {
                pane: 'pane_NBIporcondicionessanitarias_2',
                opacity: 1,
                color: 'rgba(35,35,35,1.0)',
                dashArray: '',
                lineCap: 'butt',
                lineJoin: 'miter',
                weight: 1.0, 
                fill: true,
                fillOpacity: 1,
                fillColor: 'rgba(163,159,203,1.0)',
                interactive: true,
            }
            }
            if (feature.properties['NBI_QGIS_LIMPIO_Hogares con NBI por condiciones sanitarias'] >= 9.000000 && feature.properties['NBI_QGIS_LIMPIO_Hogares con NBI por condiciones sanitarias'] <= 12.000000 ) {
                return {
                pane: 'pane_NBIporcondicionessanitarias_2',
                opacity: 1,
                color: 'rgba(35,35,35,1.0)',
                dashArray: '',
                lineCap: 'butt',
                lineJoin: 'miter',
                weight: 1.0, 
                fill: true,
                fillOpacity: 1,
                fillColor: 'rgba(106,81,163,1.0)',
                interactive: true,
            }
            }
            if (feature.properties['NBI_QGIS_LIMPIO_Hogares con NBI por condiciones sanitarias'] >= 12.000000 && feature.properties['NBI_QGIS_LIMPIO_Hogares con NBI por condiciones sanitarias'] <= 15.000000 ) {
                return {
                pane: 'pane_NBIporcondicionessanitarias_2',
                opacity: 1,
                color: 'rgba(35,35,35,1.0)',
                dashArray: '',
                lineCap: 'butt',
                lineJoin: 'miter',
                weight: 1.0, 
                fill: true,
                fillOpacity: 1,
                fillColor: 'rgba(63,0,125,1.0)',
                interactive: true,
            }
            }
        }
        map.createPane('pane_NBIporcondicionessanitarias_2');
        map.getPane('pane_NBIporcondicionessanitarias_2').style.zIndex = 402;
        map.getPane('pane_NBIporcondicionessanitarias_2').style['mix-blend-mode'] = 'normal';
        var layer_NBIporcondicionessanitarias_2 = new L.geoJson(json_NBIporcondicionessanitarias_2, {
            attribution: '',
            interactive: true,
            dataVar: 'json_NBIporcondicionessanitarias_2',
            layerName: 'layer_NBIporcondicionessanitarias_2',
            pane: 'pane_NBIporcondicionessanitarias_2',
            onEachFeature: pop_NBIporcondicionessanitarias_2,
            style: style_NBIporcondicionessanitarias_2_0,
        });
        bounds_group.addLayer(layer_NBIporcondicionessanitarias_2);
        map.addLayer(layer_NBIporcondicionessanitarias_2);
        function pop_NBIporescolaridad_3(feature, layer) {
            var popupContent = '<table>\
                    <tr>\
                        <td colspan="2">' + (feature.properties['fid'] !== null ? autolinker.link(String(feature.properties['fid']).replace(/'/g, '\'').toLocaleString()) : '') + '</td>\
                    </tr>\
                    <tr>\
                        <td colspan="2">' + (feature.properties['CPR'] !== null ? autolinker.link(String(feature.properties['CPR']).replace(/'/g, '\'').toLocaleString()) : '') + '</td>\
                    </tr>\
                    <tr>\
                        <td colspan="2">' + (feature.properties['NAM_PR'] !== null ? autolinker.link(String(feature.properties['NAM_PR']).replace(/'/g, '\'').toLocaleString()) : '') + '</td>\
                    </tr>\
                    <tr>\
                        <td colspan="2">' + (feature.properties['CDE'] !== null ? autolinker.link(String(feature.properties['CDE']).replace(/'/g, '\'').toLocaleString()) : '') + '</td>\
                    </tr>\
                    <tr>\
                        <td colspan="2">' + (feature.properties['NAM_DE'] !== null ? autolinker.link(String(feature.properties['NAM_DE']).replace(/'/g, '\'').toLocaleString()) : '') + '</td>\
                    </tr>\
                    <tr>\
                        <td colspan="2">' + (feature.properties['CFN'] !== null ? autolinker.link(String(feature.properties['CFN']).replace(/'/g, '\'').toLocaleString()) : '') + '</td>\
                    </tr>\
                    <tr>\
                        <td colspan="2">' + (feature.properties['CRO'] !== null ? autolinker.link(String(feature.properties['CRO']).replace(/'/g, '\'').toLocaleString()) : '') + '</td>\
                    </tr>\
                    <tr>\
                        <td colspan="2">' + (feature.properties['NBI_QGIS_LIMPIO_Total habitantes'] !== null ? autolinker.link(String(feature.properties['NBI_QGIS_LIMPIO_Total habitantes']).replace(/'/g, '\'').toLocaleString()) : '') + '</td>\
                    </tr>\
                    <tr>\
                        <td colspan="2">' + (feature.properties['NBI_QGIS_LIMPIO_Total hogares'] !== null ? autolinker.link(String(feature.properties['NBI_QGIS_LIMPIO_Total hogares']).replace(/'/g, '\'').toLocaleString()) : '') + '</td>\
                    </tr>\
                    <tr>\
                        <td colspan="2">' + (feature.properties['NBI_QGIS_LIMPIO_Mujer / Femenino'] !== null ? autolinker.link(String(feature.properties['NBI_QGIS_LIMPIO_Mujer / Femenino']).replace(/'/g, '\'').toLocaleString()) : '') + '</td>\
                    </tr>\
                    <tr>\
                        <td colspan="2">' + (feature.properties['NBI_QGIS_LIMPIO_Varon / Masculino'] !== null ? autolinker.link(String(feature.properties['NBI_QGIS_LIMPIO_Varon / Masculino']).replace(/'/g, '\'').toLocaleString()) : '') + '</td>\
                    </tr>\
                    <tr>\
                        <td colspan="2">' + (feature.properties['NBI_QGIS_LIMPIO_Hogares con NBI general'] !== null ? autolinker.link(String(feature.properties['NBI_QGIS_LIMPIO_Hogares con NBI general']).replace(/'/g, '\'').toLocaleString()) : '') + '</td>\
                    </tr>\
                    <tr>\
                        <td colspan="2">' + (feature.properties['NBI_QGIS_LIMPIO_Hogares con NBI por escolaridad'] !== null ? autolinker.link(String(feature.properties['NBI_QGIS_LIMPIO_Hogares con NBI por escolaridad']).replace(/'/g, '\'').toLocaleString()) : '') + '</td>\
                    </tr>\
                    <tr>\
                        <td colspan="2">' + (feature.properties['NBI_QGIS_LIMPIO_Hogares con NBI por hacinamiento'] !== null ? autolinker.link(String(feature.properties['NBI_QGIS_LIMPIO_Hogares con NBI por hacinamiento']).replace(/'/g, '\'').toLocaleString()) : '') + '</td>\
                    </tr>\
                    <tr>\
                        <td colspan="2">' + (feature.properties['NBI_QGIS_LIMPIO_Hogares con NBI por condiciones sanitarias'] !== null ? autolinker.link(String(feature.properties['NBI_QGIS_LIMPIO_Hogares con NBI por condiciones sanitarias']).replace(/'/g, '\'').toLocaleString()) : '') + '</td>\
                    </tr>\
                    <tr>\
                        <td colspan="2">' + (feature.properties['NBI_QGIS_LIMPIO_Hogares con NBI por calidad de vivienda'] !== null ? autolinker.link(String(feature.properties['NBI_QGIS_LIMPIO_Hogares con NBI por calidad de vivienda']).replace(/'/g, '\'').toLocaleString()) : '') + '</td>\
                    </tr>\
                    <tr>\
                        <td colspan="2">' + (feature.properties['NBI_QGIS_LIMPIO_Hogares con NBI por capacidad de subsistencia'] !== null ? autolinker.link(String(feature.properties['NBI_QGIS_LIMPIO_Hogares con NBI por capacidad de subsistencia']).replace(/'/g, '\'').toLocaleString()) : '') + '</td>\
                    </tr>\
                    <tr>\
                        <td colspan="2">' + (feature.properties['NBI_QGIS_LIMPIO_Hogares con conectividad digital y acceso a TIC por radio censal'] !== null ? autolinker.link(String(feature.properties['NBI_QGIS_LIMPIO_Hogares con conectividad digital y acceso a TIC por radio censal']).replace(/'/g, '\'').toLocaleString()) : '') + '</td>\
                    </tr>\
                    <tr>\
                        <td colspan="2">' + (feature.properties['LINK'] !== null ? autolinker.link(String(feature.properties['LINK']).replace(/'/g, '\'').toLocaleString()) : '') + '</td>\
                    </tr>\
                </table>';
            var content = removeEmptyRowsFromPopupContent(popupContent, feature);
			layer.on('popupopen', function(e) {
				addClassToPopupIfMedia(content, e.popup);
			});
			layer.bindPopup(content, { maxHeight: 400 });
        }

        function style_NBIporescolaridad_3_0(feature) {
            if (feature.properties['NBI_QGIS_LIMPIO_Hogares con NBI por escolaridad'] >= 0.000000 && feature.properties['NBI_QGIS_LIMPIO_Hogares con NBI por escolaridad'] <= 2.000000 ) {
                return {
                pane: 'pane_NBIporescolaridad_3',
                opacity: 1,
                color: 'rgba(35,35,35,1.0)',
                dashArray: '',
                lineCap: 'butt',
                lineJoin: 'miter',
                weight: 1.0, 
                fill: true,
                fillOpacity: 1,
                fillColor: 'rgba(247,252,245,1.0)',
                interactive: true,
            }
            }
            if (feature.properties['NBI_QGIS_LIMPIO_Hogares con NBI por escolaridad'] >= 2.000000 && feature.properties['NBI_QGIS_LIMPIO_Hogares con NBI por escolaridad'] <= 4.000000 ) {
                return {
                pane: 'pane_NBIporescolaridad_3',
                opacity: 1,
                color: 'rgba(35,35,35,1.0)',
                dashArray: '',
                lineCap: 'butt',
                lineJoin: 'miter',
                weight: 1.0, 
                fill: true,
                fillOpacity: 1,
                fillColor: 'rgba(201,234,194,1.0)',
                interactive: true,
            }
            }
            if (feature.properties['NBI_QGIS_LIMPIO_Hogares con NBI por escolaridad'] >= 4.000000 && feature.properties['NBI_QGIS_LIMPIO_Hogares con NBI por escolaridad'] <= 6.000000 ) {
                return {
                pane: 'pane_NBIporescolaridad_3',
                opacity: 1,
                color: 'rgba(35,35,35,1.0)',
                dashArray: '',
                lineCap: 'butt',
                lineJoin: 'miter',
                weight: 1.0, 
                fill: true,
                fillOpacity: 1,
                fillColor: 'rgba(123,199,124,1.0)',
                interactive: true,
            }
            }
            if (feature.properties['NBI_QGIS_LIMPIO_Hogares con NBI por escolaridad'] >= 6.000000 && feature.properties['NBI_QGIS_LIMPIO_Hogares con NBI por escolaridad'] <= 8.000000 ) {
                return {
                pane: 'pane_NBIporescolaridad_3',
                opacity: 1,
                color: 'rgba(35,35,35,1.0)',
                dashArray: '',
                lineCap: 'butt',
                lineJoin: 'miter',
                weight: 1.0, 
                fill: true,
                fillOpacity: 1,
                fillColor: 'rgba(42,146,75,1.0)',
                interactive: true,
            }
            }
            if (feature.properties['NBI_QGIS_LIMPIO_Hogares con NBI por escolaridad'] >= 8.000000 && feature.properties['NBI_QGIS_LIMPIO_Hogares con NBI por escolaridad'] <= 10.000000 ) {
                return {
                pane: 'pane_NBIporescolaridad_3',
                opacity: 1,
                color: 'rgba(35,35,35,1.0)',
                dashArray: '',
                lineCap: 'butt',
                lineJoin: 'miter',
                weight: 1.0, 
                fill: true,
                fillOpacity: 1,
                fillColor: 'rgba(0,68,27,1.0)',
                interactive: true,
            }
            }
        }
        map.createPane('pane_NBIporescolaridad_3');
        map.getPane('pane_NBIporescolaridad_3').style.zIndex = 403;
        map.getPane('pane_NBIporescolaridad_3').style['mix-blend-mode'] = 'normal';
        var layer_NBIporescolaridad_3 = new L.geoJson(json_NBIporescolaridad_3, {
            attribution: '',
            interactive: true,
            dataVar: 'json_NBIporescolaridad_3',
            layerName: 'layer_NBIporescolaridad_3',
            pane: 'pane_NBIporescolaridad_3',
            onEachFeature: pop_NBIporescolaridad_3,
            style: style_NBIporescolaridad_3_0,
        });
        bounds_group.addLayer(layer_NBIporescolaridad_3);
        map.addLayer(layer_NBIporescolaridad_3);
        function pop_NBIGeneral_4(feature, layer) {
            var popupContent = '<table>\
                    <tr>\
                        <td colspan="2">' + (feature.properties['fid'] !== null ? autolinker.link(String(feature.properties['fid']).replace(/'/g, '\'').toLocaleString()) : '') + '</td>\
                    </tr>\
                    <tr>\
                        <td colspan="2">' + (feature.properties['CPR'] !== null ? autolinker.link(String(feature.properties['CPR']).replace(/'/g, '\'').toLocaleString()) : '') + '</td>\
                    </tr>\
                    <tr>\
                        <td colspan="2">' + (feature.properties['NAM_PR'] !== null ? autolinker.link(String(feature.properties['NAM_PR']).replace(/'/g, '\'').toLocaleString()) : '') + '</td>\
                    </tr>\
                    <tr>\
                        <td colspan="2">' + (feature.properties['CDE'] !== null ? autolinker.link(String(feature.properties['CDE']).replace(/'/g, '\'').toLocaleString()) : '') + '</td>\
                    </tr>\
                    <tr>\
                        <td colspan="2">' + (feature.properties['NAM_DE'] !== null ? autolinker.link(String(feature.properties['NAM_DE']).replace(/'/g, '\'').toLocaleString()) : '') + '</td>\
                    </tr>\
                    <tr>\
                        <td colspan="2">' + (feature.properties['CFN'] !== null ? autolinker.link(String(feature.properties['CFN']).replace(/'/g, '\'').toLocaleString()) : '') + '</td>\
                    </tr>\
                    <tr>\
                        <td colspan="2">' + (feature.properties['CRO'] !== null ? autolinker.link(String(feature.properties['CRO']).replace(/'/g, '\'').toLocaleString()) : '') + '</td>\
                    </tr>\
                    <tr>\
                        <td colspan="2">' + (feature.properties['NBI_QGIS_LIMPIO_Total habitantes'] !== null ? autolinker.link(String(feature.properties['NBI_QGIS_LIMPIO_Total habitantes']).replace(/'/g, '\'').toLocaleString()) : '') + '</td>\
                    </tr>\
                    <tr>\
                        <td colspan="2">' + (feature.properties['NBI_QGIS_LIMPIO_Total hogares'] !== null ? autolinker.link(String(feature.properties['NBI_QGIS_LIMPIO_Total hogares']).replace(/'/g, '\'').toLocaleString()) : '') + '</td>\
                    </tr>\
                    <tr>\
                        <td colspan="2">' + (feature.properties['NBI_QGIS_LIMPIO_Mujer / Femenino'] !== null ? autolinker.link(String(feature.properties['NBI_QGIS_LIMPIO_Mujer / Femenino']).replace(/'/g, '\'').toLocaleString()) : '') + '</td>\
                    </tr>\
                    <tr>\
                        <td colspan="2">' + (feature.properties['NBI_QGIS_LIMPIO_Varon / Masculino'] !== null ? autolinker.link(String(feature.properties['NBI_QGIS_LIMPIO_Varon / Masculino']).replace(/'/g, '\'').toLocaleString()) : '') + '</td>\
                    </tr>\
                    <tr>\
                        <td colspan="2">' + (feature.properties['NBI_QGIS_LIMPIO_Hogares con NBI general'] !== null ? autolinker.link(String(feature.properties['NBI_QGIS_LIMPIO_Hogares con NBI general']).replace(/'/g, '\'').toLocaleString()) : '') + '</td>\
                    </tr>\
                    <tr>\
                        <td colspan="2">' + (feature.properties['NBI_QGIS_LIMPIO_Hogares con NBI por escolaridad'] !== null ? autolinker.link(String(feature.properties['NBI_QGIS_LIMPIO_Hogares con NBI por escolaridad']).replace(/'/g, '\'').toLocaleString()) : '') + '</td>\
                    </tr>\
                    <tr>\
                        <td colspan="2">' + (feature.properties['NBI_QGIS_LIMPIO_Hogares con NBI por hacinamiento'] !== null ? autolinker.link(String(feature.properties['NBI_QGIS_LIMPIO_Hogares con NBI por hacinamiento']).replace(/'/g, '\'').toLocaleString()) : '') + '</td>\
                    </tr>\
                    <tr>\
                        <td colspan="2">' + (feature.properties['NBI_QGIS_LIMPIO_Hogares con NBI por condiciones sanitarias'] !== null ? autolinker.link(String(feature.properties['NBI_QGIS_LIMPIO_Hogares con NBI por condiciones sanitarias']).replace(/'/g, '\'').toLocaleString()) : '') + '</td>\
                    </tr>\
                    <tr>\
                        <td colspan="2">' + (feature.properties['NBI_QGIS_LIMPIO_Hogares con NBI por calidad de vivienda'] !== null ? autolinker.link(String(feature.properties['NBI_QGIS_LIMPIO_Hogares con NBI por calidad de vivienda']).replace(/'/g, '\'').toLocaleString()) : '') + '</td>\
                    </tr>\
                    <tr>\
                        <td colspan="2">' + (feature.properties['NBI_QGIS_LIMPIO_Hogares con NBI por capacidad de subsistencia'] !== null ? autolinker.link(String(feature.properties['NBI_QGIS_LIMPIO_Hogares con NBI por capacidad de subsistencia']).replace(/'/g, '\'').toLocaleString()) : '') + '</td>\
                    </tr>\
                    <tr>\
                        <td colspan="2">' + (feature.properties['NBI_QGIS_LIMPIO_Hogares con conectividad digital y acceso a TIC por radio censal'] !== null ? autolinker.link(String(feature.properties['NBI_QGIS_LIMPIO_Hogares con conectividad digital y acceso a TIC por radio censal']).replace(/'/g, '\'').toLocaleString()) : '') + '</td>\
                    </tr>\
                    <tr>\
                        <td colspan="2">' + (feature.properties['LINK'] !== null ? autolinker.link(String(feature.properties['LINK']).replace(/'/g, '\'').toLocaleString()) : '') + '</td>\
                    </tr>\
                </table>';
            var content = removeEmptyRowsFromPopupContent(popupContent, feature);
			layer.on('popupopen', function(e) {
				addClassToPopupIfMedia(content, e.popup);
			});
			layer.bindPopup(content, { maxHeight: 400 });
        }

        function style_NBIGeneral_4_0(feature) {
            if (feature.properties['NBI_QGIS_LIMPIO_Hogares con NBI general'] >= 0.000000 && feature.properties['NBI_QGIS_LIMPIO_Hogares con NBI general'] <= 10.000000 ) {
                return {
                pane: 'pane_NBIGeneral_4',
                opacity: 1,
                color: 'rgba(35,35,35,1.0)',
                dashArray: '',
                lineCap: 'butt',
                lineJoin: 'miter',
                weight: 1.0, 
                fill: true,
                fillOpacity: 1,
                fillColor: 'rgba(241,238,246,1.0)',
                interactive: true,
            }
            }
            if (feature.properties['NBI_QGIS_LIMPIO_Hogares con NBI general'] >= 10.000000 && feature.properties['NBI_QGIS_LIMPIO_Hogares con NBI general'] <= 20.000000 ) {
                return {
                pane: 'pane_NBIGeneral_4',
                opacity: 1,
                color: 'rgba(35,35,35,1.0)',
                dashArray: '',
                lineCap: 'butt',
                lineJoin: 'miter',
                weight: 1.0, 
                fill: true,
                fillOpacity: 1,
                fillColor: 'rgba(215,220,236,1.0)',
                interactive: true,
            }
            }
            if (feature.properties['NBI_QGIS_LIMPIO_Hogares con NBI general'] >= 20.000000 && feature.properties['NBI_QGIS_LIMPIO_Hogares con NBI general'] <= 30.000000 ) {
                return {
                pane: 'pane_NBIGeneral_4',
                opacity: 1,
                color: 'rgba(35,35,35,1.0)',
                dashArray: '',
                lineCap: 'butt',
                lineJoin: 'miter',
                weight: 1.0, 
                fill: true,
                fillOpacity: 1,
                fillColor: 'rgba(189,201,225,1.0)',
                interactive: true,
            }
            }
            if (feature.properties['NBI_QGIS_LIMPIO_Hogares con NBI general'] >= 30.000000 && feature.properties['NBI_QGIS_LIMPIO_Hogares con NBI general'] <= 40.000000 ) {
                return {
                pane: 'pane_NBIGeneral_4',
                opacity: 1,
                color: 'rgba(35,35,35,1.0)',
                dashArray: '',
                lineCap: 'butt',
                lineJoin: 'miter',
                weight: 1.0, 
                fill: true,
                fillOpacity: 1,
                fillColor: 'rgba(153,185,216,1.0)',
                interactive: true,
            }
            }
            if (feature.properties['NBI_QGIS_LIMPIO_Hogares con NBI general'] >= 40.000000 && feature.properties['NBI_QGIS_LIMPIO_Hogares con NBI general'] <= 50.000000 ) {
                return {
                pane: 'pane_NBIGeneral_4',
                opacity: 1,
                color: 'rgba(35,35,35,1.0)',
                dashArray: '',
                lineCap: 'butt',
                lineJoin: 'miter',
                weight: 1.0, 
                fill: true,
                fillOpacity: 1,
                fillColor: 'rgba(116,169,207,1.0)',
                interactive: true,
            }
            }
            if (feature.properties['NBI_QGIS_LIMPIO_Hogares con NBI general'] >= 50.000000 && feature.properties['NBI_QGIS_LIMPIO_Hogares con NBI general'] <= 60.000000 ) {
                return {
                pane: 'pane_NBIGeneral_4',
                opacity: 1,
                color: 'rgba(35,35,35,1.0)',
                dashArray: '',
                lineCap: 'butt',
                lineJoin: 'miter',
                weight: 1.0, 
                fill: true,
                fillOpacity: 1,
                fillColor: 'rgba(80,155,199,1.0)',
                interactive: true,
            }
            }
            if (feature.properties['NBI_QGIS_LIMPIO_Hogares con NBI general'] >= 60.000000 && feature.properties['NBI_QGIS_LIMPIO_Hogares con NBI general'] <= 70.000000 ) {
                return {
                pane: 'pane_NBIGeneral_4',
                opacity: 1,
                color: 'rgba(35,35,35,1.0)',
                dashArray: '',
                lineCap: 'butt',
                lineJoin: 'miter',
                weight: 1.0, 
                fill: true,
                fillOpacity: 1,
                fillColor: 'rgba(43,140,190,1.0)',
                interactive: true,
            }
            }
            if (feature.properties['NBI_QGIS_LIMPIO_Hogares con NBI general'] >= 70.000000 && feature.properties['NBI_QGIS_LIMPIO_Hogares con NBI general'] <= 80.000000 ) {
                return {
                pane: 'pane_NBIGeneral_4',
                opacity: 1,
                color: 'rgba(35,35,35,1.0)',
                dashArray: '',
                lineCap: 'butt',
                lineJoin: 'miter',
                weight: 1.0, 
                fill: true,
                fillOpacity: 1,
                fillColor: 'rgba(24,115,166,1.0)',
                interactive: true,
            }
            }
            if (feature.properties['NBI_QGIS_LIMPIO_Hogares con NBI general'] >= 80.000000 && feature.properties['NBI_QGIS_LIMPIO_Hogares con NBI general'] <= 90.000000 ) {
                return {
                pane: 'pane_NBIGeneral_4',
                opacity: 1,
                color: 'rgba(35,35,35,1.0)',
                dashArray: '',
                lineCap: 'butt',
                lineJoin: 'miter',
                weight: 1.0, 
                fill: true,
                fillOpacity: 1,
                fillColor: 'rgba(4,90,141,1.0)',
                interactive: true,
            }
            }
        }
        map.createPane('pane_NBIGeneral_4');
        map.getPane('pane_NBIGeneral_4').style.zIndex = 404;
        map.getPane('pane_NBIGeneral_4').style['mix-blend-mode'] = 'normal';
        var layer_NBIGeneral_4 = new L.geoJson(json_NBIGeneral_4, {
            attribution: '',
            interactive: true,
            dataVar: 'json_NBIGeneral_4',
            layerName: 'layer_NBIGeneral_4',
            pane: 'pane_NBIGeneral_4',
            onEachFeature: pop_NBIGeneral_4,
            style: style_NBIGeneral_4_0,
        });
        bounds_group.addLayer(layer_NBIGeneral_4);
        map.addLayer(layer_NBIGeneral_4);
        var overlaysTree = [
        {label: '<b>PROYECTO NBI</b>',  selectAllCheckbox: true, children: [
            {label: 'NBI General<br /><table><tr><td style="text-align: center;"><img src="legend/NBIGeneral_4_0100.png" /></td><td>0 - 10</td></tr><tr><td style="text-align: center;"><img src="legend/NBIGeneral_4_10201.png" /></td><td>10 - 20</td></tr><tr><td style="text-align: center;"><img src="legend/NBIGeneral_4_20302.png" /></td><td>20 - 30</td></tr><tr><td style="text-align: center;"><img src="legend/NBIGeneral_4_30403.png" /></td><td>30 - 40</td></tr><tr><td style="text-align: center;"><img src="legend/NBIGeneral_4_40504.png" /></td><td>40 - 50</td></tr><tr><td style="text-align: center;"><img src="legend/NBIGeneral_4_50605.png" /></td><td>50 - 60</td></tr><tr><td style="text-align: center;"><img src="legend/NBIGeneral_4_60706.png" /></td><td>60 - 70</td></tr><tr><td style="text-align: center;"><img src="legend/NBIGeneral_4_70807.png" /></td><td>70 - 80</td></tr><tr><td style="text-align: center;"><img src="legend/NBIGeneral_4_80908.png" /></td><td>80 - 90</td></tr></table>', layer: layer_NBIGeneral_4},
            {label: 'NBI por escolaridad<br /><table><tr><td style="text-align: center;"><img src="legend/NBIporescolaridad_3_020.png" /></td><td>0 - 2</td></tr><tr><td style="text-align: center;"><img src="legend/NBIporescolaridad_3_241.png" /></td><td>2 - 4</td></tr><tr><td style="text-align: center;"><img src="legend/NBIporescolaridad_3_462.png" /></td><td>4 - 6</td></tr><tr><td style="text-align: center;"><img src="legend/NBIporescolaridad_3_683.png" /></td><td>6 - 8</td></tr><tr><td style="text-align: center;"><img src="legend/NBIporescolaridad_3_8104.png" /></td><td>8 - 10</td></tr></table>', layer: layer_NBIporescolaridad_3},
            {label: 'NBI por condiciones sanitarias<br /><table><tr><td style="text-align: center;"><img src="legend/NBIporcondicionessanitarias_2_030.png" /></td><td>0 - 3</td></tr><tr><td style="text-align: center;"><img src="legend/NBIporcondicionessanitarias_2_361.png" /></td><td>3 - 6</td></tr><tr><td style="text-align: center;"><img src="legend/NBIporcondicionessanitarias_2_692.png" /></td><td>6 - 9</td></tr><tr><td style="text-align: center;"><img src="legend/NBIporcondicionessanitarias_2_9123.png" /></td><td>9 - 12</td></tr><tr><td style="text-align: center;"><img src="legend/NBIporcondicionessanitarias_2_12154.png" /></td><td>12 - 15</td></tr></table>', layer: layer_NBIporcondicionessanitarias_2},
            {label: 'NBI por hacinamiento<br /><table><tr><td style="text-align: center;"><img src="legend/NBIporhacinamiento_1_050.png" /></td><td>0 - 5</td></tr><tr><td style="text-align: center;"><img src="legend/NBIporhacinamiento_1_5101.png" /></td><td>5 - 10</td></tr><tr><td style="text-align: center;"><img src="legend/NBIporhacinamiento_1_10152.png" /></td><td>10 - 15</td></tr><tr><td style="text-align: center;"><img src="legend/NBIporhacinamiento_1_15203.png" /></td><td>15 - 20</td></tr><tr><td style="text-align: center;"><img src="legend/NBIporhacinamiento_1_20254.png" /></td><td>20 - 25</td></tr><tr><td style="text-align: center;"><img src="legend/NBIporhacinamiento_1_25305.png" /></td><td>25 - 30</td></tr><tr><td style="text-align: center;"><img src="legend/NBIporhacinamiento_1_30356.png" /></td><td>30 - 35</td></tr><tr><td style="text-align: center;"><img src="legend/NBIporhacinamiento_1_35407.png" /></td><td>35 - 40</td></tr><tr><td style="text-align: center;"><img src="legend/NBIporhacinamiento_1_40458.png" /></td><td>40 - 45</td></tr><tr><td style="text-align: center;"><img src="legend/NBIporhacinamiento_1_45509.png" /></td><td>45 - 50</td></tr><tr><td style="text-align: center;"><img src="legend/NBIporhacinamiento_1_505510.png" /></td><td>50 - 55</td></tr></table>', layer: layer_NBIporhacinamiento_1},
            {label: 'NBI por calidad de vivienda<br /><table><tr><td style="text-align: center;"><img src="legend/NBIporcalidaddevivienda_0_040.png" /></td><td>0 - 4</td></tr><tr><td style="text-align: center;"><img src="legend/NBIporcalidaddevivienda_0_481.png" /></td><td>4 - 8</td></tr><tr><td style="text-align: center;"><img src="legend/NBIporcalidaddevivienda_0_8122.png" /></td><td>8 - 12</td></tr><tr><td style="text-align: center;"><img src="legend/NBIporcalidaddevivienda_0_12163.png" /></td><td>12 - 16</td></tr></table>', layer: layer_NBIporcalidaddevivienda_0},]},]
        var lay = L.control.layers.tree(null, overlaysTree,{
            //namedToggle: true,
            //selectorBack: false,
            //closedSymbol: '&#8862; &#x1f5c0;',
            //openedSymbol: '&#8863; &#x1f5c1;',
            //collapseAll: 'Collapse all',
            //expandAll: 'Expand all',
            collapsed: true,
        });
        lay.addTo(map);
        setBounds();
        </script>
    </body>
</html>
